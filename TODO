====
TODO
====

Playbook
========

* Create a 'dav' role for spinning up a WebDAV server on manann, possibly
  dav.talideon.com. This is pending the merger of a patch__ into the FreeBSD
  ports tree.

.. __: https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=235423

* Separate out a 'tarsnap' role.

Hosts
=====

* Ensure `site deployment`__ works properly. [Update: after some work, I got
  mirrors.talideon.com to deploy, but it needs some work regarding
  talideon.com itself. Will need some mechanism for vhost customisation and
  domains.txt customisation. Need got switch subdomains other than 'www' away
  from using a common certificate.]

.. __: https://github.com/kgaughan/sites

* Test manann as a primary MX. [Will require certificate migration.]

Bugs
====

* The *mynetworks* list is hardwired in *roles/mailserver/templates/main.cf.j2*
  making it difficult to keep the list of host IPs in sync.

* Deploying a new site needs an extra step with ACME. While there's a default
  vhost listening on port 80, the deployment of the vhost configuration before
  running ``/usr/local/etc/acme/acme-client.sh`` will prevent the generation of
  the certificate. The job should be run *before* the vhost config is deployed
  if the vhost config isn't already present.

.. vim:set ft=rst:
